@using collector_forum.Models.Reply
@using Microsoft.AspNetCore.Identity
@using collector_forum.Data.Models

@model IEnumerable<PostReplyModel>

@inject SignInManager<ApplicationUser> signInManager

@{
    ViewBag.Title = "Categories list";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="Lists">
    <h1 class="headersTable">List of your posts</h1>

    @if (Model.Any() || signInManager.IsSignedIn(User))
    {
        <div class="table-responsive-xl">
            <table class="table table-hover usersList">
                <tr style="font-size: 20px; marker:none;">
                    <th scope="col">Category</th>
                    <th scope="col">Content</th>
                    <th scope="col" class="text-center align-middle">Action</th>
                </tr>
                @foreach (var reply in Model)
                {
                    <tr style="font-size: 16px;">
                        <td class="align-middle">@reply.CategoryName</td>
                        <td class="align-middle">@reply.ReplyContent</td>
                        <td class="text-center align-middle">
                            <div btn-group align-middle>
                                <form asp-action="Delete" asp-controller="Post" asp-route-id="@reply.Id" method="post">
                                    <a class="btn btn-success" asp-controller="Post" asp-action="Edit" asp-route-id="@reply.Id">Edit</a>
                                    <button type="submit" class="btn btn-danger"
                                            onclick="return confirm('Are you sure you want to delete this reply?')">
                                        Delete
                                    </button>
                                </form>
                            </div>
                        </td>
                    </tr>
                }
            </table>
        </div>
    }
    else
    {
        <h1>Blablabla</h1>
    }
</div>